<hr><br>

<h2>Upload / Replace Image</h2>

<input id="uploadName" placeholder="Enter name like 'tom'" 
       style="width: 200px; padding: 8px;">

<input id="uploadFile" type="file" style="padding: 8px;">

<button onclick="uploadImage()" style="padding: 8px;">Upload</button>

<p id="uploadMsg" style="color: green; font-weight: bold;"></p>

<script>
function uploadImage() {
    const name = document.getElementById("uploadName").value.trim();
    const file = document.getElementById("uploadFile").files[0];
    const msg = document.getElementById("uploadMsg");

    if (!name) {
        msg.innerText = "Please enter a name (e.g., tom)";
        msg.style.color = "red";
        return;
    }

    if (!file) {
        msg.innerText = "Please select a file.";
        msg.style.color = "red";
        return;
    }

    let formData = new FormData();
    formData.append("image", file);

    fetch(`/api/upload?name=${name}`, {
        method: "POST",
        body: formData
    })
    .then(res => res.json())
    .then(data => {
        msg.innerText = data.msg || "Upload successful!";
        msg.style.color = "green";
    })
    .catch(err => {
        msg.innerText = "Upload failed";
        msg.style.color = "red";
    });
}
</script>
